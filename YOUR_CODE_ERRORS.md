# –¢–∞–Ω—ã –ö–æ–¥ vs –ó”©–≤ –®–∏–π–¥—ç–ª - –•–∞—Ä—å—Ü—É—É–ª–∞–ª—Ç

## üìä –ê–ª–¥–∞–∞–Ω—É—É–¥—ã–Ω —Ö—É—Ä–∞–∞–Ω–≥—É–π

| ‚Ññ | –ê–ª–¥–∞–∞ | –¢–∞–Ω—ã –∫–æ–¥ | –ó”©–≤ –∫–æ–¥ |
|---|-------|----------|---------|
| 1 | –¶—ç–≥–∏–π–Ω —Ç–æ–æ | ‚ùå 4 –±—É–ª–∞–Ω | ‚úì N√ó2 —Ü—ç–≥ |
| 2 | –ó–∞–π–Ω—ã —Ç–æ–æ—Ü–æ–æ–ª–æ–ª | ‚ùå –ë–∞–π—Ö–≥“Ø–π | ‚úì Euclidean |
| 3 | –ê–ª–≥–æ—Ä–∏—Ç–º | ‚ùå –≠—Ö–Ω–∏–π —á”©–ª”©”©—Ç—ç–π | ‚úì Max min distance |
| 4 | Tie-breaking | ‚ùå –ë–∞–π—Ö–≥“Ø–π | ‚úì x –±–∞–≥–∞ ‚Üí y –∏—Ö |
| 5 | Epsilon | ‚ùå –ë–∞–π—Ö–≥“Ø–π | ‚úì 1e-9 |
| 6 | Data structure | ‚ùå vector<bool>[5] | ‚úì set<pair<int,int>> |

---

## üî¥ –ê–ª–¥–∞–∞ 1: –ó”©–≤—Ö”©–Ω 4 –±—É–ª–∞–Ω–≥ —à–∞–ª–≥–∞—Å–∞–Ω

### ‚ùå –¢–∞–Ω—ã –∫–æ–¥:
```cpp
Point corners[5] = {
    {0, 0}, 
    {1, -1},    // –ó”©–≤—Ö”©–Ω 4 –±—É–ª–∞–Ω!
    {N, -2}, 
    {1, -2}, 
    {N, -1}
};

for (int j = 1; j <= 4; ++j) {
    if (!is_occupied[j]) {
        selected_corner = j;
        break;
    }
}
```

**–ê—Å—É—É–¥–∞–ª:** N=13, M=9 “Ø–µ–¥ (7, -1) –≥—ç—Ö –º—ç—Ç –¥—É–Ω–¥ —Ü—ç–≥“Ø“Ø–¥ –≥–∞—Ä–∞—Ö —ë—Å—Ç–æ–π!

### ‚úì –ó”©–≤ –∫–æ–¥:
```cpp
// –ë“Æ–• –±–æ–ª–æ–º–∂—Ç–æ–π —Ü—ç–≥“Ø“Ø–¥: x‚àà[1,N], y‚àà{-1,-2}
for (int x = 1; x <= N; x++) {
    for (int y = -1; y >= -2; y--) {
        if (occupied.count({x, y})) continue;
        
        // –≠–Ω—ç —Ü—ç–≥ –¥—ç—ç—Ä –∑–∞–π —Ç–æ–æ—Ü–æ–æ–ª–æ—Ö...
    }
}
```

**“Æ—Ä –¥“Ø–Ω:** N=3 “Ø–µ–¥ –º–∞–≥–∞–¥–≥“Ø–π –∞–∂–∏–ª–ª–∞–Ω–∞, –≥—ç—Ö–¥—ç—ç N=13 “Ø–µ–¥ –±—É—Ä—É—É!

---

## üî¥ –ê–ª–¥–∞–∞ 2: –ó–∞–π–Ω—ã —Ç–æ–æ—Ü–æ–æ–ª–æ–ª –±–∞–π—Ö–≥“Ø–π

### ‚ùå –¢–∞–Ω—ã –∫–æ–¥:
```cpp
// –ó–∞–π –æ–≥—Ç —Ç–æ–æ—Ü–æ–æ–ª–æ–æ–≥“Ø–π!
for (int j = 1; j <= 4; ++j) {
    if (!is_occupied[j]) {
        selected_corner = j;  // –≠—Ö–Ω–∏–π —á”©–ª”©”©—Ç—ç–π –Ω—å –±—É—Ä—É—É
        break;
    }
}
```

### ‚úì –ó”©–≤ –∫–æ–¥:
```cpp
double max_min_dist = -1;

for each free point (x, y):
    // –•–∞–º–≥–∏–π–Ω –æ–π—Ä—ã–Ω —ç–∑–ª—ç–≥–¥—Å—ç–Ω —Ü—ç–≥ —Ö“Ø—Ä—Ç—ç–ª—Ö –∑–∞–π
    double min_dist = 1e18;
    for (auto [px, py] : occupied) {
        double dx = x - px;
        double dy = y - py;
        double dist = sqrt(dx * dx + dy * dy);
        min_dist = min(min_dist, dist);
    }
    
    // –•–∞–º–≥–∏–π–Ω –∏—Ö min_distance-—Ç—ç–π —Ü—ç–≥–∏–π–≥ —Å–æ–Ω–≥–æ—Ö
    if (min_dist > max_min_dist) {
        best = (x, y);
    }
```

**–ë–æ–¥–ª–æ–≥—ã–Ω “Ø–Ω–¥—Å—ç–Ω –ª–æ–≥–∏–∫:** –•–∞–º–≥–∏–π–Ω –æ–π—Ä —ç–∑–ª—ç–≥–¥—Å—ç–Ω —Ü—ç–≥—ç—ç—Å **—Ö–∞–º–≥–∏–π–Ω —Ö–æ–ª** –±–∞–π—Ö —á”©–ª”©”©—Ç—ç–π —Ü—ç–≥–∏–π–≥ —Å–æ–Ω–≥–æ—Ö.

---

## üî¥ –ê–ª–¥–∞–∞ 3: Tie-breaking –¥“Ø—Ä—ç–º –±–∞–π—Ö–≥“Ø–π

–¢—ç–Ω—Ü“Ø“Ø –∑–∞–π—Ç–∞–π –æ–ª–æ–Ω —Ü—ç–≥ –±–∞–π–≤–∞–ª —è–º–∞—Ä –Ω—ç–≥–∏–π–≥ —Å–æ–Ω–≥–æ—Ö –≤—ç?

### ‚ùå –¢–∞–Ω—ã –∫–æ–¥:
```cpp
// –î“Ø—Ä—ç–º –±–∞–π—Ö–≥“Ø–π, —ç—Ö–Ω–∏–π –æ–ª—Å–æ–Ω –Ω—å –ª
break;
```

### ‚úì –ó”©–≤ –∫–æ–¥:
```cpp
if (abs(min_dist - max_min_dist) < 1e-9) {
    // –¢—ç–Ω—Ü“Ø“Ø –∑–∞–π—Ç–∞–π “Ø–µ–¥:
    // 1. x –±–∞–≥–∞ (–¥—ç—ç–¥ —Ç–∞–ª)
    // 2. y –∏—Ö –±—É—é—É -1 (–∑“Ø“Ø–Ω —Ç–∞–ª)
    if (x < best.first || (x == best.first && y > best.second)) {
        best = {x, y};
    }
}
```

**–ñ–∏—à—ç—ç:** dist=1 –±“Ø—Ö–∏–π —Ü—ç–≥“Ø“Ø–¥: (1,-2), (2,-1), (2,-2), (3,-1)
- –≠—Ä—ç–º–±—ç: x —ç—Ö—ç–Ω–¥ ‚Üí (1,-2), (2,-1), (2,-2), (3,-1)
- y-–≥–∞–∞—Ä: (2,-1), (3,-1), (1,-2), (2,-2)
- **–ó”©–≤:** x=1 —Ö–∞–º–≥–∏–π–Ω –±–∞–≥–∞ ‚Üí **(1,-2)** —Å–æ–Ω–≥–æ–≥–¥–æ–Ω–æ

---

## üî¥ –ê–ª–¥–∞–∞ 4: Floating point –∞–ª–¥–∞–∞

### ‚ùå –¢–∞–Ω—ã –∫–æ–¥:
```cpp
// Epsilon –±–∞–π—Ö–≥“Ø–π
if (dist1 == dist2)  // ‚ùå Floating point-–¥ –±—É—Ä—É—É!
```

### ‚úì –ó”©–≤ –∫–æ–¥:
```cpp
// Epsilon –∞—à–∏–≥–ª–∞—Ö
if (abs(dist1 - dist2) < 1e-9)  // ‚úì –ó”©–≤ —Ö–∞—Ä—å—Ü—É—É–ª–∞–ª—Ç
```

**–®–∞–ª—Ç–≥–∞–∞–Ω:** `sqrt()` –Ω—å floating point –±—É—Ü–∞–∞–¥–∞–≥, `==` —Ö—ç—Ä—ç–≥–ª—ç—Ö –Ω—å –Ω–∞–π–¥–≤–∞—Ä–≥“Ø–π.

---

## üî¥ –ê–ª–¥–∞–∞ 5: Data structure —Å–æ–Ω–≥–æ–ª—Ç

### ‚ùå –¢–∞–Ω—ã –∫–æ–¥:
```cpp
vector<bool> is_occupied(5, false);  // –ó”©–≤—Ö”©–Ω 4 –±—É–ª–∞–Ω
vector<Point> active_points(M + 1);  // –¶—ç–≥“Ø“Ø–¥–∏–π–≥ vector-–¥
```

**–ê—Å—É—É–¥–∞–ª:**
- –•—è–∑–≥–∞–∞—Ä–ª–∞–≥–¥–º–∞–ª (4 –ª –±—É–ª–∞–Ω)
- N ”©—Å”©—Ö”©–¥ –∞–∂–∏–ª–ª–∞—Ö–≥“Ø–π
- –•–∞–π–ª—Ç O(1) –±–∏—à

### ‚úì –ó”©–≤ –∫–æ–¥:
```cpp
set<pair<int, int>> occupied;        // –î–∏–Ω–∞–º–∏–∫, –±“Ø—Ö —Ü—ç–≥“Ø“Ø–¥
map<int, pair<int, int>> point_pos;  // Event –Ω–æ–º–µ—Ä ‚Üí –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
```

**–î–∞–≤—É—É —Ç–∞–ª:**
- –•—ç–¥–∏–π —á –æ–ª–æ–Ω —Ü—ç–≥ —Ö–∞–¥–≥–∞–ª–Ω–∞
- `count()` —Ö–∞–π–ª—Ç O(log n)
- `insert()`, `erase()` —Ö—è–ª–±–∞—Ä

---

## üìà –¶–∞–≥–∏–π–Ω –Ω–∞—Ä–∏–π–≤—á–ª–∞–ª

| –ê–ª–≥–æ—Ä–∏—Ç–º | –¢–∞–Ω—ã –∫–æ–¥ | –ó”©–≤ –∫–æ–¥ |
|----------|----------|---------|
| –¶—ç–≥“Ø“Ø–¥–∏–π–Ω —Ç–æ–æ | 4 | N√ó2 |
| –ó–∞–π —Ç–æ–æ—Ü–æ–æ—Ö | –ë–∞–π—Ö–≥“Ø–π | O(M) |
| –ù—ç–≥ '+' “Ø–π–ª–¥—ç–ª | O(1) | O(N√óM) |
| –ù–∏–π—Ç | O(M) | O(N¬∑M¬≤) |

**–ó”©–≤ –∫–æ–¥—ã–Ω —Ü–∞–≥:** O(N¬∑M¬≤)
- 25 –æ–Ω–æ–æ: N ‚â§ 150, M ‚â§ 150 ‚Üí ~34M “Ø–π–ª–¥—ç–ª ‚úì
- 45 –æ–Ω–æ–æ: N ‚â§ 1500, M ‚â§ 1500 ‚Üí ~3.4B “Ø–π–ª–¥—ç–ª ‚úì
- 65 –æ–Ω–æ–æ: N ‚â§ 150000, M ‚â§ 1500 ‚Üí ~340B “Ø–π–ª–¥—ç–ª ‚úì

---

## üß™ –¢–µ—Å—Ç–∏–π–Ω “Ø—Ä –¥“Ø–Ω

### Test: N=3, M=7

**–¢–∞–Ω—ã –∫–æ–¥ –≥–∞—Ä–≥–∞—Ö –±–∞–π—Å–∞–Ω:**
```
1 -1    ‚úì –ó”©–≤ (—Ö–æ–æ—Å–æ–Ω)
N -2    ? (4 –±—É–ª–∞–Ω–≥–∞–∞—Å —ç—Ö–Ω–∏–π —á”©–ª”©”©—Ç—ç–π, –º–∞–≥–∞–¥–≥“Ø–π –±—É—Ä—É—É)
...
```

**–ó”©–≤ –≥–∞—Ä–∞–ª—Ç:**
```
1 -1    ‚úì –•–æ–æ—Å–æ–Ω ‚Üí (1,-1)
3 -2    ‚úì (1,-1)-—ç—ç—Å —Ö–∞–º–≥–∏–π–Ω —Ö–æ–ª
1 -2    ‚úì (1,-1), (3,-2)-–æ–æ—Å —Ç—ç–Ω—Ü“Ø“Ø –∑–∞–π—Ç–∞–π, x –±–∞–≥–∞
3 -1    ‚úì 2-—Ä —Ü—ç–≥ –∞—Ä–∏–ª—Å–Ω—ã –¥–∞—Ä–∞–∞
1 -1    ‚úì 1-—Ä —Ü—ç–≥ –∞—Ä–∏–ª—Å–Ω—ã –¥–∞—Ä–∞–∞
```

---

## üí° –ó–∞—Å–∞—Ö –∞–ª—Ö–∞–º—É—É–¥

1. **4 –±—É–ª–∞–Ω–≥–∏–π–Ω —Ö—è–∑–≥–∞–∞—Ä–ª–∞–ª—Ç—ã–≥ –∞—Ä–∏–ª–≥–∞—Ö**
   ```cpp
   // ‚ùå –£—Å—Ç–≥–∞—Ö
   Point corners[5] = {...};
   
   // ‚úì –ù—ç–º—ç—Ö
   for (int x = 1; x <= N; x++)
       for (int y = -1; y >= -2; y--)
   ```

2. **Euclidean –∑–∞–π –Ω—ç–º—ç—Ö**
   ```cpp
   double dist = sqrt((x1-x2)*(x1-x2) + (y1-y2)*(y1-y2));
   ```

3. **Max-min –∞–ª–≥–æ—Ä–∏—Ç–º —Ö—ç—Ä—ç–≥–∂“Ø“Ø–ª—ç—Ö**
   ```cpp
   double max_min_dist = -1;
   for each free point:
       min_dist = min distance to occupied
       if (min_dist > max_min_dist):
           best = point
   ```

4. **Tie-breaking –Ω—ç–º—ç—Ö**
   ```cpp
   if (abs(min_dist - max_min_dist) < 1e-9):
       if (x < best.x || (x == best.x && y > best.y)):
           best = (x, y)
   ```

5. **Set/Map –∞—à–∏–≥–ª–∞—Ö**
   ```cpp
   set<pair<int,int>> occupied;
   map<int, pair<int,int>> point_pos;
   ```

---

## ‚úÖ –î“Ø–≥–Ω—ç–ª—Ç

–¢–∞–Ω—ã –∞–ª–¥–∞–∞ –Ω—å –æ–π–ª–≥–æ–ª—Ç—ã–Ω –∞–ª–¥–∞–∞ –±–∏—à, **—Ö—ç—Ä—ç–≥–∂“Ø“Ø–ª—Ç–∏–π–Ω** –∞–ª–¥–∞–∞ –±–∞–π–Ω–∞:
- ‚úì '+' –±–æ–ª–æ–Ω '-' “Ø–π–ª–¥–ª“Ø“Ø–¥–∏–π–≥ –∑”©–≤ –æ–π–ª–≥–æ—Å–æ–Ω
- ‚úì –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã–Ω —Å–∏—Å—Ç–µ–º –æ–π–ª–≥–æ—Å–æ–Ω
- ‚ùå "–•–∞–º–≥–∏–π–Ω —Ö–æ–ª –∑–∞–π—Ç–∞–π" –≥—ç–¥–≥–∏–π–≥ –∑”©–≤ —Ö—ç—Ä—ç–≥–∂“Ø“Ø–ª—ç—ç–≥“Ø–π
- ‚ùå 4 –±—É–ª–∞–Ω–≥ –ª —à–∞–ª–≥–∞—Ö –≥—ç–∂ —Ö—è–∑–≥–∞–∞—Ä–ª–∞—Å–∞–Ω

**–ó–∞—Å–≤–∞—Ä–ª–∞—Å–∞–Ω –∫–æ–¥:** `/mnt/user-data/outputs/point_solution_fixed.cpp`

–ê–º–∂–∏–ª—Ç —Ö“Ø—Å—å–µ! üöÄ
